// JayData 1.3.0
// Dual licensed under MIT and GPL v2
// Copyright JayStack Technologies (http://jaydata.org/licensing)
//
// JayData is a standards-based, cross-platform Javascript library and a set of
// practices to access and manipulate data from various online and offline sources.
//
// Credits:
//     Hajnalka Battancs, Dániel József, János Roden, László Horváth, Péter Nochta
//     Péter Zentai, Róbert Bónay, Szabolcs Czinege, Viktor Borza, Viktor Lázár,
//     Zoltán Gyebrovszki, Gábor Dolla
//
// More info: http://jaydata.org
(function(g,h){var j=g.Validation.Entity,i=function(a){try{return new Date(Date.parse(a))}catch(c){return new Date(0)}},k={"$data.Number":{required:{key:"required"},customValidator:{key:"customValidator",validateMethod:!0},minValue:{key:"min"},maxValue:{key:"max"}},"$data.Integer":{required:{key:"required"},customValidator:{key:"customValidator",validateMethod:!0},minValue:{key:"min"},maxValue:{key:"max"}},"$data.String":{required:{key:"required"},customValidator:{key:"customValidator",validateMethod:!0},
minLength:{key:"minlength"},maxLength:{key:"maxlength"},length:{key:"length"},regex:{key:"regex",validateMethod:!0}},"$data.Date":{required:{key:"required"},customValidator:{key:"customValidator",validateMethod:!0},minValue:{key:"min",validateMethod:!0,converter:i},maxValue:{key:"max",validateMethod:!0,converter:i}},"$data.Boolean":{required:{key:"required"},customValidator:{key:"customValidator",validateMethod:!0}},"$data.Array":{required:{key:"required"},customValidator:{key:"customValidator",validateMethod:!0},
length:{key:"length",validateMethod:!0}},"$data.Object":{required:{key:"required"},customValidator:{key:"customValidator",validateMethod:!0}}},l=function(a,c,e,b){if(a[c]){var f=k[e][c],d=f.key,g=j.getValidationValue(a,c);if(!0===f.validateMethod)d=a.name+"_"+d,h.validator.addMethod(d,function(a){a||(a=void 0);a&&f.converter&&"function"==typeof f.converter&&(a=f.converter(a));return j.supportedValidations[e][c](a,g)},j.getValidationMessage(a,c,"Validation Error!")),b.rules[a.name]=b.rules[a.name]||
{},b.rules[a.name][d]=!0;else{b.rules[a.name]=b.rules[a.name]||{};b.rules[a.name][d]=g;var i=j.getValidationMessage(a,c);i&&(b.messages[a.name]=b.messages[a.name]||{},b.messages[a.name][d]=i)}}},m=function(a,c){a.memberDefinitions.getPublicMappedProperties().forEach(function(a){var b=Container.resolveName(Container.resolveType(a.dataType));k[b]&&Object.keys(k[b]).forEach(function(f){l(a,f,b,c)})})};g.Entity.prototype.toJQueryValidate=function(a){("undefined"===typeof h||"undefined"===typeof h.validator)&&
Guard.raise(new Exception("jQuery and jQuery validator plugin is required","Not Found!"));var c=this,e={rules:{},messages:{}};m(c.getType(),e);a=g.typeSystem.createCallbackSetting(a,{});if(a.success){var b=a.success;a.success=function(a,d){h.fn.formBinder&&h(a).formBinder(c,!1);b.apply(this,[c,a,d])}}"function"==typeof a.success&&(e.submitHandler=a.success);"function"==typeof a.error&&(e.invalidHandler=a.error);return e}})($data,jQuery);
