<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>


<head>
    <title></title>
            <link href="styles/bootstrap.min.css" rel="stylesheet">
        <link href="styles/style.css" rel="stylesheet">
        <script src="/scripts/jquery-1.7.2.min.js"></script>
        <script src="scripts/bootstrap.min.js"></script>
    <script src="/scripts/jquery-1.7.2.min.js"></script>
    <script src="scripts/datajs-1.0.3.js"></script>
    <!--<script type="text/javascript" src="scripts/q.js"></script>-->
    <script src="/scripts/JayData-standalone.js"></script>
    <!--<script src="scripts/jaydata/jaydataproviders/SqLiteProvider.js"></script>-->
    <!--<script src="scripts/jaydata/jaydataproviders/oDataProvider.js"></script>-->
    <script src="/scripts/JaySvcUtil.js"></script>
    <script src="scripts/knockout-2.1.0.debug.js"></script>
    <!--<script type="text/javascript" src="scripts/jaydata/jaydatamodules/qDeferred.js"></script>-->
    <script src="scripts/jaygrid-table-template.js"></script>
    <script src="scripts/jaygrid.js"></script>
    <script src="scripts/jay-property-editor.js"></script>
    <script src="scripts/jaydata/jaydatamodules/knockout.js"></script>


    <script src="scripts/inflection.js"></script>
</head>

<script>
    $data.Class.define("$org.types.AccountType", $data.Entity, null, {
        Id : {
            type : "int",
            key : true,
            computed : true
        },
        Name : {
            type : "string",
            required : true
        }
    });

    $data.Class.define("$org2.types.AccountType", $data.Entity, null, {
        Id : {
            type : "int",
            key : true,
            computed : true
        },
        Age: {
            type : "number",
            required : true
        }
    });

    $data.EntityContext.extend("$org.MyContext", {
        AccountTypes: { type: $data.EntitySet, elementType: $org.types.AccountType }
    });

    $data.EntityContext.extend("$org2.MyContext", {
        AccountTypes: { type: $data.EntitySet, elementType: $org2.types.AccountType }
    });

    var c = new $org.MyContext({ name: 'sqLite', databaseName: 'mydb'});
    c.onReady(function(){
        var c2 = new $org2.MyContext({ name: 'sqLite', databaseName: 'mydb2'});
        c2.onReady(function(){
            c.AccountTypes.add({Name:"asdasd"});
            c.saveChanges( function() {
                console.log("done");
            })

            c2.AccountTypes.add({Age:12});
            c2.saveChanges( function() {
                console.log("done");
            })
        })

    })
</script>
<body>

</body>
</html>
